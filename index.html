<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
<title>smartphone test</title>
</head>
<body>
<p>スマホで絵を描こう！</p>
<p id="x"></p>
<p id="y"></p>
<canvas id="canvas" width="600" height="600"></canvas>
<script>
let canvas=document.getElementById("canvas");
let ctx=canvas.getContext("2d");
let mouseEffect=false;
let x=document.getElementById("x"),y=document.getElementById("y");
ctx.fillStyle="green";
ctx.fillRect(0,0,600,600);
ctx.fillStyle="black";
canvas.onmousedown=(e)=>{
e.preventDefault();
//mouseEffect=true;
x.textContent=e.pageX;
y.textContent=e.pageY;
}
/*onmouseup=(e)=>{
e.preventDefault();
mouseEffect=false;
}*/
canvas.onmousemove=(e)=>{
e.preventDefault();
//if(mouseEffect)
ctx.fillRect(e.offsetX,e.offsetY,10,10);
x.textContent=e.pageX;
y.textContent=e.pageY;
}
//for iphone
canvas.ontouchstart=(e)=>{
e.preventDefault();
//mouseEffect=true;
x.textContent=e.touches[0].pageX;
y.textContent=e.touches[0].pageY;
}
/*ontouchend=(e)=>{
e.preventDefault();
mouseEffect=false;
}*/
canvas.ontouchmove=(e)=>{
e.preventDefault();
//if(mouseEffect)
ctx.fillRect(e.touches[0].pageX-canvas.getBoundingClientRect().x,e.touches[0].pageY-canvas.getBoundingClientRect().y,10,10);
x.textContent=e.touches[0].pageX;
y.textContent=e.touches[0].pageY;
}
</script>
<body>
</html>
