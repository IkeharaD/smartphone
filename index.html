<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
<title>smartphone test</title>
</head>
<body>
<p>スマホで絵を描こう！</p>
<canvas id="canvas" width="600" height="600"></canvas>
<script>
let canvas=document.getElementById("canvas");
let ctx=canvas.getContext("2d");
let mouseEffect=false;
ctx.fillStyle="green";
ctx.fillRect(0,0,600,600);
ctx.fillStyle="black";
onmousedown=()=>{
mouseEffect=true;
}
onmouseup=()=>{
mouseEffect=false;
}
canvas.onmousemove=(e)=>{
if(mouseEffect)
ctx.fillRect(e.offsetX,e.offsetY,10,10);
}
//for iphone
ontouchstart=(e)=>{
e.preventDefault();
mouseEffect=true;
}
ontouchend=(e)=>{
e.preventDefault();
mouseEffect=false;
}
canvas.ontouchmove=(e)=>{
e.preventDefault();
if(mouseEffect)
ctx.fillRect(e.offsetX,e.offsetY,10,10);
}
</script>
<body>
</html>
